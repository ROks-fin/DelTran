@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   SUPER PREMIUM TYPOGRAPHY SYSTEM
   ============================================ */

@layer base {
  /* DM Serif Display - единственный шрифт */
  :root {
    /* Все шрифты используют DM Serif Display */
    --font-main: var(--font-main), 'DM Serif Display', Georgia, serif;
    --font-display: var(--font-main), 'DM Serif Display', Georgia, serif;
    --font-body: var(--font-main), 'DM Serif Display', Georgia, serif;
    --font-accent: var(--font-main), 'DM Serif Display', Georgia, serif;

    /* ============================================
       FLUID TYPOGRAPHY SCALE (clamp-based)
       Optimal formula: clamp(min, preferred, max)
       Preferred = min + (max - min) * ((100vw - minVw) / (maxVw - minVw))
       Simplified: min + vw-coefficient
       ============================================ */

    /* Hero/Display sizes - dramatic scaling for impact */
    /* Mobile 320px → Desktop 1536px */
    --text-hero: clamp(2rem, 1rem + 4vw, 4.5rem);
    --text-display-2xl: clamp(1.75rem, 0.875rem + 3.5vw, 4rem);
    --text-display-xl: clamp(1.5rem, 0.75rem + 3vw, 3.5rem);
    --text-display-lg: clamp(1.375rem, 0.625rem + 2.5vw, 2.75rem);
    --text-display-md: clamp(1.25rem, 0.625rem + 2vw, 2.25rem);
    --text-display-sm: clamp(1.125rem, 0.625rem + 1.5vw, 1.75rem);

    /* Body text - optimized for readability */
    --text-body-xl: clamp(1.0625rem, 0.75rem + 0.75vw, 1.375rem);
    --text-body-lg: clamp(1rem, 0.75rem + 0.5vw, 1.25rem);
    --text-body-md: clamp(0.9375rem, 0.8125rem + 0.25vw, 1.0625rem);
    --text-body-sm: clamp(0.875rem, 0.8125rem + 0.125vw, 0.9375rem);

    /* Labels/Captions - minimal scaling for consistency */
    --text-label: clamp(0.6875rem, 0.625rem + 0.125vw, 0.75rem);
    --text-caption: clamp(0.75rem, 0.6875rem + 0.125vw, 0.8125rem);

    /* Metric numbers - bold scaling for stats/numbers */
    --text-metric-value: clamp(1.75rem, 0.75rem + 3vw, 3.5rem);
    --text-metric-unit: clamp(0.875rem, 0.5rem + 1vw, 1.5rem);

    /* Spacing scale - fluid */
    --space-section: clamp(3rem, 1.5rem + 5vw, 7rem);
    --space-content: clamp(1.5rem, 1rem + 2vw, 4rem);
    --space-element: clamp(0.75rem, 0.5rem + 0.75vw, 1.5rem);

    /* Optical sizing for headings */
    --heading-letter-spacing: -0.025em;
    --body-letter-spacing: 0.01em;
    --accent-letter-spacing: 0.05em;
  }
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 45 67% 52%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 45 67% 52%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 45 67% 52%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 45 67% 52%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 45 67% 52%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 45 67% 52%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-body);
    font-feature-settings: "rlig" 1, "calt" 1, "ss01" 1, "cv01" 1;
    font-optical-sizing: auto;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    letter-spacing: var(--body-letter-spacing);
  }

  /* Premium Heading Styles */
  h1, h2, h3, h4, h5, h6,
  .heading {
    font-family: var(--font-display);
    font-weight: 600;
    letter-spacing: var(--heading-letter-spacing);
    text-wrap: balance;
  }

  h1 {
    font-size: var(--text-display-xl);
    font-weight: 700;
    line-height: 1.15;
    padding-bottom: 0.05em; /* Space for descenders (g, y, p, q) */
  }

  h2 {
    font-size: var(--text-display-lg);
    font-weight: 600;
    line-height: 1.15;
  }

  h3 {
    font-size: var(--text-display-md);
    font-weight: 600;
    line-height: 1.2;
  }

  h4 {
    font-size: var(--text-display-sm);
    font-weight: 500;
    line-height: 1.25;
  }

  /* Premium paragraph styling */
  p {
    text-wrap: pretty;
    line-height: 1.7;
  }

  /* Accent text (numbers, tech elements) */
  .font-accent,
  code,
  .mono {
    font-family: var(--font-accent);
    letter-spacing: var(--accent-letter-spacing);
    font-feature-settings: "tnum" 1, "ss01" 1;
  }

  html {
    scroll-behavior: smooth;
  }

  /* Custom scrollbar for luxury feel */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gold/20 rounded-full;
    transition: background-color 0.3s ease;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gold/40;
  }

  /* Selection styling */
  ::selection {
    @apply bg-gold/20 text-gold;
  }

  /* Focus styles */
  *:focus-visible {
    @apply outline-none ring-2 ring-gold/50 ring-offset-2 ring-offset-background;
  }

  /* ============================================
     RADICAL FIX: Gradient text descender clipping
     Solution: padding + negative margin trick
     Source: https://stackoverflow.com/questions/14804698
     ============================================ */
  .bg-clip-text,
  [class*="bg-clip-text"] {
    -webkit-background-clip: text !important;
    background-clip: text !important;
    -webkit-box-decoration-break: clone;
    box-decoration-break: clone;
    /* The padding + negative margin trick:
       Expands bounding box for descenders (g, y, p, q, j)
       then negates to maintain original position */
    padding-bottom: 0.15em;
    margin-bottom: -0.15em;
    display: inline-block;
  }

  /* Ensure text-transparent works properly with webkit */
  .text-transparent {
    color: transparent !important;
    -webkit-text-fill-color: transparent;
  }
}

@layer components {
  /* ============================================
     PREMIUM TYPOGRAPHY COMPONENTS
     ============================================ */

  /* Super Premium Display Heading */
  .heading-premium {
    font-family: var(--font-display);
    font-weight: 700;
    letter-spacing: -0.03em;
    line-height: 1.05;
    text-wrap: balance;
  }

  /* Elegant Subtitle */
  .subtitle-elegant {
    font-family: var(--font-body);
    font-weight: 300;
    letter-spacing: 0.015em;
    line-height: 1.65;
  }

  /* Luxury Label Text */
  .label-luxury {
    font-family: var(--font-body);
    font-size: 0.6875rem;
    font-weight: 600;
    letter-spacing: 0.18em;
    text-transform: uppercase;
  }

  /* Classic Italic - Elegant serif italic for quotes and accents */
  .text-classic-italic {
    font-family: 'DM Serif Display', Georgia, serif;
    font-style: italic;
    font-weight: 400;
    letter-spacing: 0.01em;
  }

  .text-classic-italic-medium {
    font-family: 'DM Serif Display', Georgia, serif;
    font-style: italic;
    font-weight: 400;
    letter-spacing: 0.01em;
  }

  .text-classic-italic-semibold {
    font-family: 'DM Serif Display', Georgia, serif;
    font-style: italic;
    font-weight: 400;
    letter-spacing: 0.005em;
  }

  .text-classic-italic-bold {
    font-family: 'DM Serif Display', Georgia, serif;
    font-style: italic;
    font-weight: 400;
    letter-spacing: 0;
  }

  /* ============================================
     FLUID TYPOGRAPHY UTILITIES
     Seamlessly scale text across all devices
     ============================================ */

  /* Hero Text - Largest, most impactful */
  .text-fluid-hero {
    font-size: var(--text-hero);
    line-height: 1.15;
    letter-spacing: -0.03em;
  }

  /* Display sizes - Section headings */
  .text-fluid-2xl {
    font-size: var(--text-display-2xl);
    line-height: 1.15;
    letter-spacing: -0.025em;
  }

  .text-fluid-xl {
    font-size: var(--text-display-xl);
    line-height: 1.15;
    letter-spacing: -0.02em;
  }

  .text-fluid-lg {
    font-size: var(--text-display-lg);
    line-height: 1.2;
    letter-spacing: -0.015em;
  }

  .text-fluid-md {
    font-size: var(--text-display-md);
    line-height: 1.2;
    letter-spacing: -0.01em;
  }

  .text-fluid-sm {
    font-size: var(--text-display-sm);
    line-height: 1.25;
    letter-spacing: -0.005em;
  }

  /* Body text - Readable paragraphs */
  .text-fluid-body-xl {
    font-size: var(--text-body-xl);
    line-height: 1.6;
  }

  .text-fluid-body-lg {
    font-size: var(--text-body-lg);
    line-height: 1.65;
  }

  .text-fluid-body {
    font-size: var(--text-body-md);
    line-height: 1.7;
  }

  .text-fluid-body-sm {
    font-size: var(--text-body-sm);
    line-height: 1.7;
  }

  /* Labels and captions */
  .text-fluid-label {
    font-size: var(--text-label);
    line-height: 1.4;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    font-weight: 600;
  }

  .text-fluid-caption {
    font-size: var(--text-caption);
    line-height: 1.5;
  }

  /* Metric values - large bold numbers */
  .text-fluid-metric {
    font-size: var(--text-metric-value);
    line-height: 1;
    font-weight: 700;
    letter-spacing: -0.02em;
  }

  .text-fluid-metric-unit {
    font-size: var(--text-metric-unit);
    line-height: 1;
    font-weight: 700;
  }

  /* ============================================
     FINTECH-GRADE SECTION SYSTEM
     Smooth transitions between sections
     ============================================ */

  /* Premium Section with consistent vertical rhythm */
  .section-premium {
    @apply py-20 sm:py-28 lg:py-36;
    position: relative;
  }

  /* Smooth fade edges for seamless section transitions */
  .section-premium::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 120px;
    background: linear-gradient(to bottom, rgba(0,0,0,1) 0%, transparent 100%);
    pointer-events: none;
    z-index: 1;
  }

  .section-premium::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 120px;
    background: linear-gradient(to top, rgba(0,0,0,1) 0%, transparent 100%);
    pointer-events: none;
    z-index: 1;
  }

  /* No fade for first section (hero) */
  .section-premium:first-of-type::before,
  .section-no-fade::before,
  .section-no-fade::after {
    display: none;
  }

  .section-premium-sm {
    @apply py-12 sm:py-16 lg:py-20;
    position: relative;
  }

  .section-premium-lg {
    @apply py-24 sm:py-32 lg:py-44;
    position: relative;
  }

  /* Smooth section divider - soft gradient line */
  .section-divider {
    @apply relative;
  }

  .section-divider::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    max-width: 600px;
    height: 1px;
    background: linear-gradient(90deg,
      transparent 0%,
      rgba(212, 175, 55, 0.2) 20%,
      rgba(212, 175, 55, 0.3) 50%,
      rgba(212, 175, 55, 0.2) 80%,
      transparent 100%
    );
  }

  /* Soft background transition between sections */
  .bg-transition-soft {
    background: linear-gradient(180deg,
      transparent 0%,
      rgba(5, 5, 5, 0.5) 20%,
      rgba(5, 5, 5, 1) 50%,
      rgba(5, 5, 5, 0.5) 80%,
      transparent 100%
    );
  }

  /* Premium Container with refined max-width */
  .container-premium {
    @apply container mx-auto px-5 sm:px-6 lg:px-8;
    max-width: 1280px;
  }

  .container-narrow {
    @apply container mx-auto px-5 sm:px-6 lg:px-8;
    max-width: 960px;
  }

  .container-wide {
    @apply container mx-auto px-5 sm:px-6 lg:px-8;
    max-width: 1440px;
  }

  /* ============================================
     PREMIUM SPACING UTILITIES
     ============================================ */

  /* Section header spacing */
  .section-header {
    @apply mb-12 sm:mb-16 lg:mb-20;
  }

  .section-header-sm {
    @apply mb-8 sm:mb-10 lg:mb-12;
  }

  /* Content gap utilities */
  .content-gap {
    @apply space-y-6 sm:space-y-8;
  }

  .content-gap-lg {
    @apply space-y-8 sm:space-y-10 lg:space-y-12;
  }

  /* ============================================
     PREMIUM CARD SYSTEM
     Soft edges, smooth shadows, no harsh borders
     ============================================ */

  /* Fintech-grade card base - softened */
  .card-fintech {
    @apply relative overflow-hidden;
    border-radius: 24px;  /* Softer corners */
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.04) 0%,
      rgba(255, 255, 255, 0.02) 100%
    );
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.06);
    box-shadow:
      0 4px 24px -4px rgba(0, 0, 0, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
    /* Hover transition removed for cleaner appearance */
  }

  /* Hover effects removed for cleaner appearance */

  /* Card with soft inner glow */
  .card-soft-glow {
    @apply card-fintech;
    box-shadow:
      0 4px 24px -4px rgba(0, 0, 0, 0.2),
      inset 0 0 80px rgba(212, 175, 55, 0.02);
  }

  /* Soft glow hover removed */

  /* Card with gradient accent */
  .card-gradient {
    @apply card-fintech;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.06) 0%,
      rgba(255, 255, 255, 0.02) 100%
    );
  }

  /* Card gradient hover overlay removed */

  /* Card padding variants */
  .card-padding {
    @apply p-6 sm:p-8;
  }

  .card-padding-lg {
    @apply p-8 sm:p-10 lg:p-12;
  }

  .card-padding-xl {
    @apply p-10 sm:p-14 lg:p-20;
  }

  /* ============================================
     PREMIUM BUTTON SYSTEM
     ============================================ */

  /* Primary CTA button */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2;
    @apply px-8 py-4 rounded-full;
    @apply font-semibold text-base;
    @apply transition-all duration-300 ease-out;
    background: linear-gradient(135deg, #d4af37 0%, #e6c757 100%);
    color: #000;
    box-shadow: 0 4px 24px -4px rgba(212, 175, 55, 0.4);
  }

  .btn-primary:hover {
    box-shadow: 0 8px 32px -4px rgba(212, 175, 55, 0.5);
    transform: translateY(-1px);
  }

  .btn-primary:active {
    transform: translateY(0) scale(0.98);
  }

  /* Secondary button */
  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2;
    @apply px-8 py-4 rounded-full;
    @apply font-medium text-base;
    @apply border-2 border-white/20 text-white;
    @apply transition-all duration-300 ease-out;
    @apply hover:border-gold/40 hover:bg-white/5;
  }

  /* Button size variants */
  .btn-sm {
    @apply px-5 py-2.5 text-sm;
  }

  .btn-lg {
    @apply px-10 py-5 text-lg;
  }

  /* Premium Number Display */
  .number-display {
    font-family: var(--font-accent);
    font-weight: 500;
    letter-spacing: -0.02em;
    font-feature-settings: "tnum" 1;
  }

  /* Elegant Quote */
  .quote-elegant {
    font-family: var(--font-display);
    font-style: italic;
    font-weight: 400;
    letter-spacing: 0.01em;
    line-height: 1.5;
  }

  /* Premium CTA Text */
  .cta-premium {
    font-family: var(--font-body);
    font-weight: 600;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    font-size: 0.875rem;
  }

  /* Gradient Text - Premium Gold */
  .text-gradient-gold {
    background: linear-gradient(135deg, #f0d97b 0%, #d4af37 40%, #b89730 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  /* Gradient Text - Platinum */
  .text-gradient-platinum {
    background: linear-gradient(135deg, #ffffff 0%, #e5e5e7 50%, #c0c0c0 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  /* Gradient Text - Royal */
  .text-gradient-royal {
    background: linear-gradient(135deg, #d4af37 0%, #ffffff 50%, #d4af37 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  /* Text Shimmer Effect */
  .text-shimmer {
    background: linear-gradient(
      90deg,
      #d4af37 0%,
      #f0d97b 25%,
      #ffffff 50%,
      #f0d97b 75%,
      #d4af37 100%
    );
    background-size: 200% auto;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: textShimmer 3s linear infinite;
  }

  @keyframes textShimmer {
    to {
      background-position: 200% center;
    }
  }

  /* Glass morphism effect */
  .glass {
    @apply bg-white/5 backdrop-blur-xl border border-white/10;
  }

  .glass-dark {
    @apply bg-black/20 backdrop-blur-xl border border-white/5;
  }

  /* Gold glow effect */
  .gold-glow {
    box-shadow: 0 0 50px rgba(212, 175, 55, 0.3);
  }

  .gold-glow-sm {
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.2);
  }

  /* Text gradient */
  .text-gradient {
    @apply bg-gradient-to-r from-gold via-gold-light to-gold bg-clip-text text-transparent;
  }

  .text-gradient-dark {
    @apply bg-gradient-to-r from-white via-platinum to-white/80 bg-clip-text text-transparent;
  }

  /* Premium button */
  .btn-premium {
    @apply relative overflow-hidden transition-all duration-300;
    background: linear-gradient(135deg, #d4af37 0%, #e6c757 100%);
  }

  .btn-premium::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.5s ease;
  }

  .btn-premium:hover::before {
    left: 100%;
  }

  /* Shimmer effect */
  .shimmer {
    background: linear-gradient(
      105deg,
      transparent 40%,
      rgba(212, 175, 55, 0.3) 50%,
      transparent 60%
    );
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }

  /* Luxury card */
  .luxury-card {
    @apply relative overflow-hidden rounded-2xl;
    background: linear-gradient(135deg, rgba(26, 26, 26, 0.8), rgba(10, 10, 10, 0.9));
    border: 1px solid rgba(212, 175, 55, 0.1);
  }

  /* Luxury card hover glow removed */

  /* Animated gradient background */
  .animated-gradient {
    background: linear-gradient(
      -45deg,
      #0a0a0a,
      #1a1a1a,
      #0f0f0f,
      #1a1a1a
    );
    background-size: 400% 400%;
    animation: gradient 15s ease infinite;
  }

  /* Noise texture overlay */
  .noise-overlay::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.03;
    z-index: 1;
    pointer-events: none;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  }
}

@layer utilities {
  /* ============================================
     PREMIUM TYPOGRAPHY UTILITIES
     ============================================ */

  /* RTL support - using CSS variables from next/font */
  [dir="rtl"] {
    font-family: var(--font-arabic, var(--font-main)), 'DM Serif Display', serif;
  }

  [lang="he"] {
    font-family: var(--font-hebrew, var(--font-main)), 'DM Serif Display', serif;
  }

  /* Font family utilities */
  .font-display {
    font-family: var(--font-display);
  }

  .font-body {
    font-family: var(--font-body);
  }

  .font-accent {
    font-family: var(--font-accent);
  }

  /* Premium letter spacing utilities */
  .tracking-display {
    letter-spacing: -0.03em;
  }

  .tracking-heading {
    letter-spacing: -0.02em;
  }

  .tracking-body {
    letter-spacing: 0.01em;
  }

  .tracking-luxury {
    letter-spacing: 0.15em;
  }

  .tracking-ultra {
    letter-spacing: 0.25em;
  }

  /* Premium font weight utilities */
  .font-hairline {
    font-weight: 100;
  }

  .font-ultra-light {
    font-weight: 200;
  }

  /* Text rendering optimization */
  .text-crisp {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  .text-geometric {
    -webkit-font-smoothing: auto;
    text-rendering: geometricPrecision;
  }

  /* Premium text shadows */
  .text-shadow-gold {
    text-shadow: 0 0 20px rgba(212, 175, 55, 0.5),
                 0 0 40px rgba(212, 175, 55, 0.3),
                 0 0 60px rgba(212, 175, 55, 0.1);
  }

  .text-shadow-soft {
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
  }

  .text-shadow-luxury {
    text-shadow:
      0 1px 0 rgba(255, 255, 255, 0.1),
      0 -1px 0 rgba(0, 0, 0, 0.3),
      0 0 20px rgba(212, 175, 55, 0.2);
  }

  /* Smooth transitions */
  .transition-premium {
    @apply transition-all duration-500 ease-out;
  }

  /* Premium hover states */
  .hover-lift {
    @apply transition-transform duration-300 hover:-translate-y-1;
  }

  /* Hover glow removed */

  /* === ULTRA-PREMIUM RESPONSIVE UTILITIES === */

  /* Container queries support */
  @supports (container-type: inline-size) {
    .container-query {
      container-type: inline-size;
    }
  }

  /* ============================================
     OPTIMIZED FLUID TYPOGRAPHY
     Using proper clamp() formula for smooth scaling
     Formula: clamp(min, preferred, max)
     preferred = min + (max - min) * ((100vw - 320px) / (1536px - 320px))
     ============================================ */

  /* Extra small text - minimal scaling */
  .fluid-text-xs {
    font-size: clamp(0.6875rem, 0.625rem + 0.125vw, 0.75rem);
    line-height: 1.5;
  }

  /* Small text */
  .fluid-text-sm {
    font-size: clamp(0.8125rem, 0.75rem + 0.125vw, 0.875rem);
    line-height: 1.5;
  }

  /* Base text - body copy */
  .fluid-text-base {
    font-size: clamp(0.9375rem, 0.8125rem + 0.25vw, 1.0625rem);
    line-height: 1.65;
  }

  /* Large text */
  .fluid-text-lg {
    font-size: clamp(1rem, 0.875rem + 0.375vw, 1.1875rem);
    line-height: 1.6;
  }

  /* Extra large text */
  .fluid-text-xl {
    font-size: clamp(1.125rem, 0.875rem + 0.625vw, 1.375rem);
    line-height: 1.5;
  }

  /* 2XL - Small headings */
  .fluid-text-2xl {
    font-size: clamp(1.25rem, 0.875rem + 1vw, 1.75rem);
    line-height: 1.35;
  }

  /* 3XL - Medium headings */
  .fluid-text-3xl {
    font-size: clamp(1.5rem, 0.875rem + 1.5vw, 2.25rem);
    line-height: 1.25;
  }

  /* 4XL - Large headings */
  .fluid-text-4xl {
    font-size: clamp(1.75rem, 0.75rem + 2.25vw, 3rem);
    line-height: 1.15;
  }

  /* 5XL - Hero headings */
  .fluid-text-5xl {
    font-size: clamp(2rem, 0.75rem + 3vw, 3.75rem);
    line-height: 1.1;
  }

  /* 6XL - Display headings */
  .fluid-text-6xl {
    font-size: clamp(2.25rem, 0.625rem + 4vw, 4.5rem);
    line-height: 1.05;
  }

  /* 7XL - Extra large display */
  .fluid-text-7xl {
    font-size: clamp(2.5rem, 0.5rem + 5vw, 5.5rem);
    line-height: 1;
  }

  /* 8XL - Maximum impact */
  .fluid-text-8xl {
    font-size: clamp(2.75rem, 0.375rem + 6vw, 6.5rem);
    line-height: 0.95;
  }

  /* Text balancing for better readability */
  @supports (text-wrap: balance) {
    .text-balance {
      text-wrap: balance;
    }
  }

  /* Text effects */
  .text-glow {
    text-shadow: 0 0 20px rgba(212, 175, 55, 0.5),
                 0 0 40px rgba(212, 175, 55, 0.3);
  }

  /* Responsive spacing utilities */
  .space-responsive-xs {
    margin: clamp(0.5rem, 2vw, 1rem);
  }

  .space-responsive-sm {
    margin: clamp(1rem, 3vw, 2rem);
  }

  .space-responsive-md {
    margin: clamp(1.5rem, 4vw, 3rem);
  }

  .space-responsive-lg {
    margin: clamp(2rem, 5vw, 4rem);
  }

  .space-responsive-xl {
    margin: clamp(3rem, 6vw, 6rem);
  }

  /* Device-specific utilities */
  @media (hover: none) and (pointer: coarse) {
    .touch-device {
      /* Larger touch targets */
      min-height: 44px;
      min-width: 44px;
    }

    /* Disable hover effects on touch devices */
    .no-touch-hover:hover {
      transform: none;
      box-shadow: none;
    }
  }

  /* High contrast mode support */
  @media (prefers-contrast: more) {
    .high-contrast {
      outline: 2px solid currentColor;
      outline-offset: 2px;
    }
  }

  /* Reduced transparency support */
  @media (prefers-reduced-transparency: reduce) {
    .reduce-transparency {
      backdrop-filter: none;
      background-color: var(--background);
    }
  }

  /* Print-friendly styles */
  @media print {
    .no-print {
      display: none !important;
    }

    .print-break-before {
      page-break-before: always;
    }

    .print-break-after {
      page-break-after: always;
    }
  }

  /* Loading skeleton */
  .skeleton {
    @apply animate-pulse bg-gray-200 dark:bg-gray-800 rounded;
  }

  /* Aspect ratio containers (for older browsers) */
  .aspect-video {
    aspect-ratio: 16 / 9;
  }

  .aspect-square {
    aspect-ratio: 1 / 1;
  }

  .aspect-portrait {
    aspect-ratio: 3 / 4;
  }

  /* Smooth scroll for anchors */
  @media (prefers-reduced-motion: no-preference) {
    html {
      scroll-behavior: smooth;
    }
  }

  /* Safe area insets for notched devices */
  @supports (padding: env(safe-area-inset-top)) {
    .safe-top {
      padding-top: env(safe-area-inset-top);
    }

    .safe-bottom {
      padding-bottom: env(safe-area-inset-bottom);
    }

    .safe-left {
      padding-left: env(safe-area-inset-left);
    }

    .safe-right {
      padding-right: env(safe-area-inset-right);
    }
  }

  /* GPU acceleration for animations */
  .gpu-accelerated {
    transform: translateZ(0);
    will-change: transform, opacity;
  }

  /* Line clamping */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Responsive grid */
  .grid-responsive {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 300px), 1fr));
    gap: clamp(1rem, 3vw, 2rem);
  }

  /* Masonry layout support */
  @supports (grid-template-rows: masonry) {
    .grid-masonry {
      display: grid;
      grid-template-rows: masonry;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 1rem;
    }
  }

  /* === RESPONSIVE OPTIMIZATIONS === */

  /* Optimize for mobile devices */
  @media (max-width: 768px) {
    /* Increase touch target sizes */
    button, a, [role="button"] {
      min-height: 44px;
      min-width: 44px;
    }

    /* Optimize typography for mobile readability */
    body {
      font-size: clamp(14px, 4vw, 16px);
      line-height: 1.6;
    }

    /* Adjust spacing for mobile */
    .container {
      padding-left: clamp(1rem, 5vw, 2rem);
      padding-right: clamp(1rem, 5vw, 2rem);
    }
  }

  /* Optimize for ultra-wide screens (4K+) */
  @media (min-width: 3840px) {
    /* Scale up content proportionally */
    html {
      font-size: 20px;
    }

    .container {
      max-width: 2560px;
    }
  }

  /* Optimize for 8K displays */
  @media (min-width: 7680px) {
    html {
      font-size: 24px;
    }

    .container {
      max-width: 3840px;
    }
  }

  /* Dark mode optimizations */
  @media (prefers-color-scheme: dark) {
    /* Enhance contrast in dark mode */
    .text-gradient {
      background: linear-gradient(135deg, #f0d97b 0%, #d4af37 50%, #b89730 100%);
      -webkit-background-clip: text;
      background-clip: text;
    }
  }
}
